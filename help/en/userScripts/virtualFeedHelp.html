<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link href="/help/_any/css/help.css" rel="stylesheet" type="text/css">
  <link rel="icon" type="image/png" href="//help/_any/img/favicon.png" />
  <title>Virtual feed scripts - Help</title>
</head>

<body>
  <h1>Virtual feed scripts</h1>
  <div>
    <h2>Purpose</h2>
    <div>
      <br>
    </div>
    <div>Virtual feed scripts are designed&nbsp; to allow users to generate theirs own feeds.
      <br>
    </div>
    <div>
      <br>
    </div>
    <div>
      <h2>Create a new script
        <br>
      </h2>
      <div>Open the option view go in "Advanced" tab and click on "Script manager".</div>
      <div>From the "Script manager" view click on&nbsp;
        <img src="/themes/_any/img/scripts-new.png">&nbsp; then a new script is created.</div>
      <div>
        <br>
      </div>
      <img src="/help/_any/img/help-new-script.png">
      <br>
      <div>
        <br>
      </div>
      <div>Then you can :
        <br>
      </div>
      <ul>
        <li>.&nbsp;
          <b>New script 1</b> : change its name</li>
        <li>.
          <img src="/themes/_any/img/scripts-edit.png"> : open the code editor </li>
        <li>.
          <img src="/themes/_any/img/scripts-enabled.png"> : enable / disable it (it will be apply executed or not when you update feed, but it is still available for edition)
          <br>
        </li>
        <li>.&nbsp;
          <img src="/help/_any/img/help-feed-type-open.png"> : Select the type of script (Feed transformer or Virtual feed)</li>
        <li>.
          <img src="/help/_any/img/help-url-matching.png"> : see on which feed url schemes the script will be executed</li>
        <li>.
          <img src="/themes/_any/img/scripts-delete.png"> : delete the script</li>
        <li>.&nbsp;&nbsp;
          <img src="/help/_any/img/help-last-edition.png"> : last edition time</li>
      </ul>
      <div>
        <br>
      </div>
      <div>
        <br>
      </div>
      <div>
        <h2>The script editor</h2>
        <div>
          <br>
        </div>
        <div>To open the script editor click on&nbsp;"<img src="/themes/_any/img/scripts-edit.png">"
        </div>
        <div>
          <br>
        </div>
        <img src="/help/_any/img/help-script-editor-vf.png">
        <br>
      </div>
      <div>
        <br>
      </div>
      <ul>
        <li>. From the "Commands" panel you can save scripts or close the script editor.</li>
        <li>. From&nbsp; the "Virtual feed" panel you can:</li>
      </ul>
      <blockquote>
        <div>
          <ul>
            <li>- test the script.</li>
            <li>- subscribe to the virtual feed
              <br>
            </li>
          </ul>
        </div>
      </blockquote>
      <div>
        <ul>
          <li>. From "Info" panel you can access to help and examples</li>
          <li>. From "Font" panel you can change font settings</li>
        </ul>You can write your code in the main panel on right side, and at bottom you can see a console with execution informations
        like: the script has been executed, or execution errors.</div>
      <div>
        <br>
      </div>
      <div>
        <h2>How to write a Virtual feed script</h2>
      </div>
    </div>
    <div>You have to write an
      <font color="#000099">async</font> entry point function and return directly it from the code mode.<br/>
      This function have to return a text xml feed (RSS or ATOM).
      <br>
    </div>
    <div>
      <br>
    </div>
    <div>
      <img src="/help/_any/img/help-ft-code1.png">
    </div>
    <div>
      <br>
    </div>
    <div>In this example:
      <br>
    </div>
    <div>
      <ul>
        <li>. the entry point function is
          <font color="#33CCFF">main</font> and it is defined as
          <font color="#000099">async</font>, and it return directly from the module on the line 8.</li>
        <li>. the
          <font color="#33CCFF">main</font> function receive the raw feed xml text through&nbsp; the
          <font color="#FF6666">feedText</font> parameter</li>
        <li>.
          <font color="#FF6666">feedText</font> is modified on line 4</li>
        <li>. and
          <font color="#FF6666">feedText</font> is returned to Drop Feeds on line 5</li>
      </ul>
      <div>That's all.</div>
      <div>
        <br>
      </div>
      <div>
        <b>Drop Feed</b> helps you to write script with a library called
        <a href="http://">USTOOLS</a> (User Script TOOLS), you can take a look the Feed transformer script
        <a href="https://pastebin.com/ddZxUdtT">example</a>.
        <br>
      </div>
      <div>
        <br>
      </div>
    </div>
    <div>
      <br>
    </div>
  </div>
</body>

</html>